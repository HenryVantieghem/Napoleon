/**
 * Napoleon AI - Linear Professional Design System
 * Phase 2: LCH Color Space + Professional Dark Theme
 * Research-backed: Linear's perceptually uniform color relationships
 */

/* ===== LCH COLOR SPACE SYSTEM ===== */
/* Linear's approach to perceptually uniform colors */
:root {
  /* LCH Base Colors - Perceptually Uniform */
  --lch-primary-50: lch(98% 2 264);      /* Ultra light */
  --lch-primary-100: lch(95% 5 264);     /* Very light */
  --lch-primary-200: lch(87% 12 264);    /* Light */
  --lch-primary-300: lch(76% 20 264);    /* Medium light */
  --lch-primary-400: lch(63% 28 264);    /* Medium */
  --lch-primary-500: lch(51% 35 264);    /* Base - Orbital Blue */
  --lch-primary-600: lch(45% 32 264);    /* Medium dark */
  --lch-primary-700: lch(38% 28 264);    /* Dark */
  --lch-primary-800: lch(32% 24 264);    /* Very dark */
  --lch-primary-900: lch(25% 20 264);    /* Ultra dark */
  
  /* LCH Secondary - Imperial Gold */
  --lch-gold-50: lch(98% 8 85);
  --lch-gold-100: lch(95% 15 85);
  --lch-gold-200: lch(87% 25 85);
  --lch-gold-300: lch(76% 35 85);
  --lch-gold-400: lch(71% 45 85);
  --lch-gold-500: lch(66% 55 85);        /* Imperial Gold Base */
  --lch-gold-600: lch(58% 50 85);
  --lch-gold-700: lch(49% 45 85);
  --lch-gold-800: lch(41% 40 85);
  --lch-gold-900: lch(32% 35 85);
  
  /* LCH Neutrals - Professional Dark Theme */
  --lch-neutral-50: lch(98% 0 0);
  --lch-neutral-100: lch(95% 0 0);
  --lch-neutral-200: lch(87% 0 0);
  --lch-neutral-300: lch(76% 0 0);
  --lch-neutral-400: lch(63% 0 0);
  --lch-neutral-500: lch(51% 0 0);
  --lch-neutral-600: lch(45% 0 0);
  --lch-neutral-700: lch(38% 0 0);
  --lch-neutral-800: lch(25% 0 0);       /* Professional Dark Base */
  --lch-neutral-900: lch(15% 0 0);       /* Deep Professional */
  --lch-neutral-950: lch(8% 0 0);        /* Ultra Deep */
  
  /* LCH Success System */
  --lch-success-50: lch(98% 8 142);
  --lch-success-500: lch(65% 50 142);    /* Success Base */
  --lch-success-600: lch(55% 45 142);
  --lch-success-900: lch(25% 30 142);
  
  /* LCH Warning System */
  --lch-warning-50: lch(98% 8 65);
  --lch-warning-500: lch(75% 65 65);     /* Warning Base */
  --lch-warning-600: lch(65% 60 65);
  --lch-warning-900: lch(35% 45 65);
  
  /* LCH Danger System */
  --lch-danger-50: lch(98% 8 25);
  --lch-danger-500: lch(62% 65 25);      /* Danger Base */
  --lch-danger-600: lch(52% 60 25);
  --lch-danger-900: lch(25% 45 25);
}

/* ===== PROFESSIONAL DARK THEME ===== */
/* Linear-inspired professional interface */
.linear-professional {
  /* Background Hierarchy */
  --bg-primary: var(--lch-neutral-950);
  --bg-secondary: var(--lch-neutral-900);
  --bg-elevated: var(--lch-neutral-800);
  --bg-interactive: var(--lch-neutral-700);
  
  /* Text Hierarchy with Perfect Contrast */
  --text-primary: var(--lch-neutral-50);
  --text-secondary: var(--lch-neutral-300);
  --text-tertiary: var(--lch-neutral-400);
  --text-muted: var(--lch-neutral-500);
  
  /* Border System */
  --border-primary: var(--lch-neutral-700);
  --border-secondary: var(--lch-neutral-800);
  --border-interactive: var(--lch-primary-600);
  
  /* Interactive States */
  --interactive-hover: var(--lch-neutral-600);
  --interactive-active: var(--lch-neutral-500);
  --interactive-disabled: var(--lch-neutral-800);
}

/* ===== AUTOMATED CONTRAST GENERATION ===== */
/* Professional contrast ratios for WCAG AA+ compliance */
.auto-contrast-text {
  color: var(--text-primary);
  --contrast-ratio: 7.0; /* AAA level for executive readability */
}

.auto-contrast-secondary {
  color: var(--text-secondary);
  --contrast-ratio: 4.8; /* Above AA for secondary content */
}

.auto-contrast-interactive {
  color: var(--lch-primary-400);
  --contrast-ratio: 4.5; /* AA minimum for interactive elements */
}

/* ===== LINEAR GRADIENT MATHEMATICS ===== */
/* Orbital gradient effects with mathematical precision */
.linear-orbital-gradient {
  background: linear-gradient(
    135deg,
    var(--lch-primary-500) 0%,
    var(--lch-primary-600) 25%,
    var(--lch-primary-700) 50%,
    var(--lch-primary-800) 75%,
    var(--lch-neutral-900) 100%
  );
  
  /* Mathematical orbital rotation */
  animation: orbitalMath 20s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

@keyframes orbitalMath {
  0% { 
    background-position: 0% 50%;
    filter: hue-rotate(0deg);
  }
  25% { 
    background-position: 100% 50%;
    filter: hue-rotate(90deg);
  }
  50% { 
    background-position: 100% 100%;
    filter: hue-rotate(180deg);
  }
  75% { 
    background-position: 0% 100%;
    filter: hue-rotate(270deg);
  }
  100% { 
    background-position: 0% 50%;
    filter: hue-rotate(360deg);
  }
}

/* ===== PROFESSIONAL COMPONENT VARIANTS ===== */
/* Linear-inspired component system */
.linear-card {
  background: var(--bg-elevated);
  border: 1px solid var(--border-primary);
  border-radius: 12px;
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  box-shadow: 
    0 0 0 1px rgba(255, 255, 255, 0.05),
    0 16px 32px rgba(0, 0, 0, 0.4),
    0 4px 8px rgba(0, 0, 0, 0.2);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.linear-card:hover {
  border-color: var(--border-interactive);
  box-shadow: 
    0 0 0 1px var(--lch-primary-600),
    0 24px 48px rgba(0, 0, 0, 0.5),
    0 8px 16px rgba(0, 0, 0, 0.3);
  transform: translateY(-2px);
}

.linear-button-primary {
  background: linear-gradient(135deg, 
    var(--lch-primary-500) 0%, 
    var(--lch-primary-600) 100%);
  color: var(--lch-neutral-50);
  border: 1px solid var(--lch-primary-400);
  border-radius: 8px;
  padding: 12px 24px;
  font-weight: 500;
  font-size: 14px;
  line-height: 1.5;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.linear-button-primary:hover {
  background: linear-gradient(135deg, 
    var(--lch-primary-400) 0%, 
    var(--lch-primary-500) 100%);
  border-color: var(--lch-primary-300);
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.linear-button-primary:active {
  transform: translateY(0);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

.linear-button-secondary {
  background: transparent;
  color: var(--text-primary);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
  padding: 12px 24px;
  font-weight: 500;
  font-size: 14px;
  line-height: 1.5;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.linear-button-secondary:hover {
  background: var(--interactive-hover);
  border-color: var(--border-interactive);
  color: var(--lch-primary-300);
}

/* ===== LINEAR INPUT SYSTEM ===== */
.linear-input {
  background: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
  padding: 12px 16px;
  color: var(--text-primary);
  font-size: 14px;
  line-height: 1.5;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  outline: none;
}

.linear-input:focus {
  border-color: var(--lch-primary-500);
  box-shadow: 
    0 0 0 3px rgba(var(--lch-primary-500), 0.1),
    0 4px 12px rgba(0, 0, 0, 0.2);
  background: var(--bg-primary);
}

.linear-input::placeholder {
  color: var(--text-muted);
}

/* ===== PROFESSIONAL NAVIGATION ===== */
.linear-nav {
  background: var(--bg-secondary);
  border-right: 1px solid var(--border-primary);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  padding: 24px 0;
}

.linear-nav-item {
  display: flex;
  align-items: center;
  padding: 12px 24px;
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  border-left: 3px solid transparent;
}

.linear-nav-item:hover {
  background: var(--interactive-hover);
  color: var(--text-primary);
  border-left-color: var(--lch-primary-500);
}

.linear-nav-item.active {
  background: var(--lch-primary-900);
  color: var(--lch-primary-300);
  border-left-color: var(--lch-primary-500);
}

.linear-nav-item-icon {
  width: 20px;
  height: 20px;
  margin-right: 12px;
  opacity: 0.7;
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.linear-nav-item:hover .linear-nav-item-icon {
  opacity: 1;
}

/* ===== STRIPE-GRADE DATA VISUALIZATION ===== */
.stripe-metric-card {
  background: var(--bg-elevated);
  border: 1px solid var(--border-primary);
  border-radius: 12px;
  padding: 24px;
  position: relative;
  overflow: hidden;
}

.stripe-metric-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    var(--lch-primary-500) 50%, 
    transparent 100%);
}

.stripe-metric-value {
  font-size: 32px;
  font-weight: 700;
  color: var(--text-primary);
  line-height: 1.2;
  margin-bottom: 8px;
}

.stripe-metric-label {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.stripe-metric-change {
  display: flex;
  align-items: center;
  margin-top: 12px;
  font-size: 13px;
  font-weight: 500;
}

.stripe-metric-change.positive {
  color: var(--lch-success-500);
}

.stripe-metric-change.negative {
  color: var(--lch-danger-500);
}

.stripe-metric-change.neutral {
  color: var(--text-tertiary);
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */
.linear-professional * {
  /* Hardware acceleration for smooth animations */
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

.linear-professional *:hover {
  /* Optimize hover states */
  will-change: transform, opacity, background-color;
}

/* ===== FALLBACKS FOR OLDER BROWSERS ===== */
@supports not (color: lch(50% 50 180)) {
  :root {
    /* Fallback to HSL for browsers without LCH support */
    --lch-primary-500: hsl(210, 100%, 60%);
    --lch-gold-500: hsl(45, 70%, 60%);
    --lch-neutral-950: hsl(0, 0%, 8%);
    --lch-neutral-900: hsl(0, 0%, 15%);
    --lch-neutral-800: hsl(0, 0%, 25%);
    --lch-neutral-50: hsl(0, 0%, 98%);
    --lch-neutral-300: hsl(0, 0%, 76%);
  }
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */
@media (prefers-reduced-motion: reduce) {
  .linear-orbital-gradient,
  .linear-card,
  .linear-button-primary,
  .linear-button-secondary,
  .linear-input,
  .linear-nav-item {
    animation: none;
    transition: none;
  }
}

@media (prefers-high-contrast: high) {
  :root {
    --text-primary: #ffffff;
    --text-secondary: #cccccc;
    --border-primary: #666666;
    --border-interactive: #ffffff;
  }
}

/* ===== EXECUTIVE TOUCH TARGETS ===== */
.linear-touch-target {
  min-height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: relative;
}

.linear-touch-target::after {
  content: '';
  position: absolute;
  inset: -8px;
  border-radius: inherit;
  opacity: 0;
  background: var(--lch-primary-500);
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
}

.linear-touch-target:active::after {
  opacity: 0.1;
}